<!DOCTYPE html><html lang="en"><head prefix="og: http://ogp.me/ns#"><!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107530781-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());
  gtag('config', 'UA-107530781-1');
</script>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>新媒體內容技術與設計 / 輔大新聞系數位內容設計課程</title><!-- libraries--><meta property="og:locale" content="zh_TW"><meta property="og:image" content="http://xinmeti.co/assets/img/thumbnail.jpg"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="700"><meta property="og:image:height" content="380"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@zbryikt"><meta name="twitter:domain" content="xinmeti.co"><meta name="twitter:url" content="http://xinmeti.co"><meta name="twitter:creator" content="@zbryikt"><meta name="twitter:title" content="新媒體內容技術與設計 / 輔大新聞系數位內容設計課程"><meta name="twitter:description" content="帶領學生了解數位時代的內容產製方式、流程與內容的整體樣貌，並學習從基本的內容製作到內容管理與維護。"><meta name="twitter:image:src" content="http://xinmeti.co/assets/img/thumbnail.jpg"><meta property="og:title" content="新媒體內容技術與設計 / 輔大新聞系數位內容設計課程"><meta property="og:type" content="article"><meta property="og:url" content="http://xinmeti.co"><meta property="og:image" content="http://xinmeti.co/assets/img/thumbnail.jpg"><meta property="og:description" content="帶領學生了解數位時代的內容產製方式、流程與內容的整體樣貌，並學習從基本的內容製作到內容管理與維護。"><meta property="article:author" content="zbryikt"><meta property="article:section" content="Taiwan"><meta name="keywords" content="journalism,new media,digital content,"><meta property="fb:app_id" content=""><meta property="fb:admins" content=""><link rel="icon" type="image/x-icon" href="http://xinmeti.co/favicon.png"><script type="text/javascript" src="/assets/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="/assets/angular/1.3.15/angular.min.js"></script><link rel="stylesheet" type="text/css" href="/assets/fontawesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/assets/bootstrap/4.0.0/css/bootstrap.min.css"><script type="text/javascript" src="/assets/popperjs/1.12.5/index.js"></script><script type="text/javascript" src="/assets/bootstrap/4.0.0/js/bootstrap.min.js"></script><link rel="stylesheet" type="text/css" href="/assets/loading/loading.css"><!-- custom files--><script src="/lib/jquery.magnific-popup.min.js"></script><link rel="stylesheet" type="text/css" href="/lib/magnific-popup.css"><link rel="stylesheet" type="text/css" href="/lib/transition.css"></head><body><nav class="bg-black"><nav class="navbar navbar-expand-lg navbar-dark justify-content-between block1024"><a href="/" class="navbar-brand">HOME</a><button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav"><li class="nav-item"><a href="/#course-list" class="nav-link">課表</a></li><li class="nav-item"><a href="/dataset/" class="nav-link">資料集</a></li></ul></div></nav></nav><div class="jumbotron-fluid text-center"><div class="container-fluid"><br><br><h1>新媒體內容技術與設計 </h1><div class="subtitle">New Media Techniques and Design</div><br><a href="/#course-list" class="btn btn-primary">完整課表</a><br><br><br></div></div><br><br><div style="min-height:100%" class="block1024"><div class="grayed">2017-12-28</div><big>內容工程</big><h1>樣板語言與前處理器 / Pug, Stylus and Yaml</h1><div class="sep"></div><br><h3>連結</h3><ul><li><a href="https://github.com/g0v/jothon-net/">揪松網</a></li><li><a href="http://jade-lang.com/">Jade 文件</a></li><li><a href="http://www.yaml.org/spec/1.2/spec.html">Yaml 語法標準</a></li><li><a href="http://stylus-lang.com/">Stylus 官網</a></li></ul><br><h3>簡介</h3><p>當代網頁開發已經很少人直接寫 HTML / CSS / JavaScript 了，大多會經過預處理或是樣板化。整組網頁製作或網站開發已脫離不了本機端的開發程式與模組使用，包含資源的最佳化、開發用語言使用、偵錯等功能都可以大大提升開發與協作的效率。</p><p>本次課程從建立本機端開發環境開始，帶大家學習 Jade 與 Yaml 搭配使用的初步，以了解數位內容產置流程中的一環，透過親手實作的方式建立整體流程的基本概念概念為主，未來不一定需要精通或是熟悉相關工具。</p><br><br><h3>使用 NodeJS </h3><p>透過 NodeJS 環境，我們可以在網頁更新或上傳前預先處理其內容。</p><h4>安裝</h4><p>安裝的步驟如下：</p><ul><li>連至 <a href="https://nodejs.org/en/download/" target="_blank">Nodejs 下載頁面</a>, 選取適合的安裝檔 ( Windows Installer (.msi) 通常即可 )</li><li>執行 / 解壓縮該下載檔後依指示進行</li></ul><br><h4>執行</h4><ul><li>於開始功能表搜尋框中鍵入「cmd」搜尋命令提示字元程式，點選執行「命令提示字元」</li><li><span>測試 nodejs 的安裝狀態：</span><ul><li>試著鍵入「node」，接著換行鍵</li><li>鍵入「console.log("hello world");」，接著換行鍵</li></ul></li></ul><br><h4>使用命令提示字元</h4><p>「命令提示字元」為一個終端機模式的指令操作介面。為了透過指令取用電腦中的檔案內容，「命令提示字元」中有個很重要的概念「工作路徑」，通常會出現在程式最左下方以文字的方式提示。</p><p>切換工作路徑的方式很簡單，使用「cd」指令，並搭配目標路徑，例如：</p><pre class="code">cd c:\Users\user\Desktop</pre><br><h4>安裝模組</h4><p>NodeJS 社群提供了大量的程式模組供我們使用，不需要重新自造輪子。安裝模組需透過 NPM ( Node Package Manager )，我們先嘗試安裝「Jade」網頁樣板語言處理模組：</p><ul><li>於命令提示字元鍵入「npm install -g jade」</li></ul><h4>測試 jade</h4><p>透過記事本「notepad」，於命令提示字元的當前目錄新增一個檔案「index.jade」</p><ul><li>執行記事本「notepad」程式 ( 可透過開始功能表尋找 )</li><li><span>鍵入以下內容：</span><pre class="code">doctype html
html
  head
  body
    h1 hello world!</pre></li><li>於命令提示字元，執行「jade -P index.jade」</li></ul><br><div class="sep"></div><br><h3>使用 Jade / Pug</h3><p>Jade 為前端網頁樣板語言，可透過前處理器轉換為 html，並包含以下優點：</p><ul><li>可參數化</li><li>可樣板化</li><li>網頁模組化</li><li>可程序化</li></ul><h4>基本用法</h4><ul><li><p>所有的標籤直接用標籤名稱取代，例如：</p><pre class="code">&lt;h1&gt; → h1</pre></li><li><p>標籤內的屬性則置於名稱後方的括號內，以逗號分隔，例如：</p><pre class="code">&lt;h1 style="width:100px" class="active"&gt; → h1(style="width:100px",class="active")</pre></li><li><p>類別與 ID 可進一步以 CSS Selector 語法改寫並置於名稱與括號間，例如：</p><pre class="code">&lt;h1 style="width:100px" class="active" id="title"&gt; → h1#title.active(style="width:100px")</pre></li><li><p>標籤內容直接放在標籤後方，中間空一格即可：</p><pre class="code">&lt;h1 style="width:100px" class="active" id="title"&gt; Hello &lt;/h1&gt;</pre>變成：<pre class="code">h1#title.active(style="width:100px") hello</pre></li><li><p>槽狀標籤以縮排來安置。例如：</p><pre class="code">&lt;h1 style="width:100px" class="active" id="title"&gt;
  &lt;span&gt; Hello &lt;/span&gt;
&lt;/h1&gt;</pre><p>變成：</p><pre class="code">h1#title.active(style="width:100px")
  span hello</pre></li><li><p>若想直接打文字而不想將文字包含在標籤中，在前面加上「|」( pipe 符號 ) 即可：</p><pre class="code">Hello World!</pre><p>變成：</p><pre class="code">| Hello World!</pre></li><li><p>使用特殊標籤而需要大量純文字時 ( 例如 style 標籤 )，可在標籤名後方加上「.」以省略「|」：</p><pre class="code">&lt;style type="text/css&gt;
  body { background: red; }
&lt;/style&gt;</pre><p>變成：</p><pre class="code">style(type="text/css").
  body { background: red; }</pre></li><li><p>使用「include」語法引入外部檔案。練習：</p><ul><li><p>建立一個檔案命名為「title.jade」，內容僅包含：</p><pre class="code">h1 Hello World!</pre></li><li><p>另外建立一個檔案「content.jade」，包含下列內容：</p><pre class="code">p 測試用的段落</pre></li><li><p>接著建立「index.jade」，包含以下內容：</p><pre class="code">doctype html
html
  head
  body
    include title.jade
    include content.jade</pre></li><li><p>使用命令提示字元在當前目錄執行：</p><pre class="code">jade -P index.jade</pre></li><li>開啟產生的 index.html 檔以檢視結果。</li></ul></li></ul><br><div class="sep"></div><br><h3>使用 Yaml</h3><p>編輯 Jade / Pug 時，內容若有大量資料，往往不方便維護。我們可以透過帶入「物件」的方式來將資料分離；然而，Jade 透過 JSON 這種格式來儲存資料，而 JSON 格式較為繁複，不易編輯，如下即為一例：</p><blockquote><pre class="code">{
  "name": "Johnny",
  "age": 20,
  "address": {
    "city": "Taipei",
    "village": "Daan"
  }
}</pre></blockquote><p>這時我們可以使用「Yaml」格式，再透過 NodeJS 轉檔為 JSON 。</p><br><h4>安裝 Yaml 模組</h4><p>使用 NPM 於命令提示字元執行以下指令安裝：</p><pre class="code">npm install -g js-yaml</pre><br><h4>執行方式</h4><ul><li><span>先準備一個檔案，命名為「index.yaml」，內容如下：</span><pre class="code">hello: 1</pre></li><li><span>於命令提示字元執行以下指令作轉換：</span><pre class="code">js-yaml index.yaml > index.json</pre></li><li><span>準備一個新的 jade 檔，命名為「yaml-test.jade」，內容如下：</span><pre class="code">doctype html
html
  head
  body
    span &#35;{hello}</pre></li><li><span>執行「jade」時帶入額外參數以指定變數檔：</span><pre class="code">jade -P index.jade --obj index.json</pre></li></ul><br><h4>Yaml 語法</h4><p>最簡單的用法即是「名稱: 數值」的表列，例如：</p><pre class="code">name: Johnny
age: 20
gender: boy</pre><p>透過縮排可以表現階層性的概念：</p><pre class="code">name: Johnny
age: 20
address:
  city: Taipei
  village: Daan
  no: 15</pre><p>長段落文字則搭配「|」(pipe) 與縮排來實現：</p><pre class="code">name: Johnny
age: 20
brief: |
  Hi Guys! I'm Johnny, J-o-h-n-n-y.

  I'm pretty busy with this stuff, so bye bye.</pre><br><div class="sep"></div><br><h3>Jade / Pug 變數與使用 Yaml 迭代</h3><p>Yaml 段落中使用到特殊的 Jade 語法「&#35;{name}」，這種用法可以將該語法整個代換成對應的資料內容。有時會搭配 Jade 內 JSON 物件使用，例如：</p><pre class="code">- var name = "Johnny";
h1 Hello &#35;{name}</pre><p>有時候我們會有很多筆資料，若要逐一手打也是相當辛苦。這時可使用 JSON 中的「陣列」語法，搭配 Jade 的「迭代」語法使用。而 JSON 自己寫比較麻煩，我們仍可透過 Yaml 做轉換； Yaml 的陣列寫法很簡單，在資料前加上「-」(dash) 即可，例如下例表現出圓周率的前五位數字：</p><pre class="code">pie:
  - 3
  - 1
  - 4
  - 1
  - 5</pre><p>若在陣列中每個元素裡都想表現更複雜的資料，可以再進一步把 Yaml 語法延伸進去：</p><pre class="code">members:
  - name: Johnny
    age: 20
  - name: Cindy
    age: 17
  - name: Angela
    age: 16
  - name: David
    age: 26</pre><p>於 Jade / Pug 中，若要取用陣列資料中的特定元素，可使用「變數名[編號 - 1]」的語法。例如下例可取得上例中的第二位成員 Cindy：</p><pre class="code">members[1]</pre><p>要進一步取得成員中的詳細資訊，使用「.」(dot) 接著資訊的名稱。例如，下例取得第二位成員 Cindy 的年齡：</p><pre class="code">members[1].age</pre><p>最後，我們可以透過 Jade 迭代所有成員，只要使用「each」語法即可：</p><pre class="code">each member in members
  h1 成員 &#35;{member.name}: &#35;{member.age}歲</pre><p>上例中的 each 會幫我們把 each 下縮排的內容依照其中指定的「members」陣列元素數量自動重覆，並把各個元素的資訊迭代到「member」變數之中。 members 與 member 這兩個字我們可以依自己需求選用不同的名字。</p><br><h3>實作練習</h3><p>請搜集前後左右共四位以上同學的姓名、身高、性別、血型、星座，建立 Yaml 檔，並利用 Jade 迭代功能製成網頁。</p><p>參考用 Yaml：</p><pre class="code">- name: 王小明
  gender: 男
  blood: O
  horoscope: 獅子
  height: 168
- name: 張大寶
  gender: 女
  bolld: A
  horoscope: 蛇夫
  height: 159</pre><p>參考指令：</p><pre class="code">js-yaml classmate.yaml > classmate.json
jade -P classmate.jade --obj classmate.json</pre><br><div class="sep"></div><br><h3>使用快速開發套件</h3><p>線上有許多預先準備好的開發模板，透過執行常駐程式的方式自動編譯，並提供額外的樣板指令。我們使用 <a href="https://github.com/zbryikt/template">這個樣板</a> 來做簡單的練習。</p><ul><li>下載 <a href="https://github.com/zbryikt/template/archive/master.zip">zbryikt/template</a> 套件</li><li>解壓縮至特定資料夾</li><li>於命令提示字元，利用「cd」指令切換至上一步驟中的資料夾</li><li>執行「npm install」安裝必要套件</li><li>執行「node_modules/.bin/LiveScript server」啟動程式</li><li>打開資料夾中的「index.jade」，於「body」下嘗試加入 h1 標題，例如：<pre class="code">h1 Hello World!</pre></li><li>連線至本機開發用網站「<a href="http://localhost:9999">http://localhost:9999</a>」，你應該會看到大大的「Hello World」</li></ul><br><br><div class="sep"></div><br><br><h3>案例參考</h3><p>零時政府揪松網即利用 jade / yaml / stylus 建置。例如，揪松網時間軸元件：</p><ul><li>Yaml 檔：<a href="https://github.com/g0v/jothon-net/blob/master/data/timeline.yaml">https://github.com/g0v/jothon-net/blob/master/data/timeline.yaml</a></li><li>Jade 檔：<a href="https://github.com/g0v/jothon-net/blob/master/src/jade/timeline.jade">https://github.com/g0v/jothon-net/blob/master/src/jade/timeline.jade</a></li><li>Stylus 檔：<a href="https://github.com/g0v/jothon-net/blob/master/src/styl/timeline.styl">https://github.com/g0v/jothon-net/blob/master/src/styl/timeline.styl</a></li></ul><p>可直接參考 <a href="g0v.github.io/jothon-net/">揪松網開發頁面</a> 看看產出結果。</p><p>此外，線上網頁實驗服務如 <a href="http://jsbin.com/">JSBin</a> 很多都有提供 Jade / Stylus 即時轉譯功能，亦可以使用其功能做練習。</p></div><br><br></body><div id="footer"><div class="block1024"><div class="pull-right"><a href="https://github.com/xinmeti/xinmeti.co"><i class="fa fa-github"></i> GitHub</a></div><a href="http://xinmeti.co">xinmeti.co &copy; 2017</a><div class="block"><a href="https://jcs.tw/">輔仁大學新聞傳播學系</a> 新媒體內容技術與設計課程</div></div></div><link rel="stylesheet" type="text/css" href="/index.css?v="><script type="text/javascript" src="/base.js?v="></script><!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107530781-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());
  gtag('config', 'UA-107530781-1');
</script>
</html>